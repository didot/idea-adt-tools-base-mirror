apply from: "../commonHeader.gradle"
apply from: "../commonLocalRepo.gradle"
buildscript { apply from: "../commonBuildScript.gradle", to: buildscript }

apply plugin: 'com.android.application'

android {
  compileSdkVersion 21
  buildToolsVersion = rootProject.ext.buildToolsVersion

  defaultConfig {
    buildConfigField "String", "FOO", "\"foo\""
    multiDexEnabled = true
    useJack project.ext.useJack
  }

  productFlavors {
    ics {
      minSdkVersion 14
    }
    lollipop {
      minSdkVersion 21
    }
  }

  buildTypes {
    debug {
      buildConfigField "String", "FOO", "\"bar\""
      resValue "string", "foo", "foo2"
    }
    proguard {
      minifyEnabled true
      proguardFile file('proguard-android.txt')
    }
  }

  lintOptions {
    abortOnError !rootProject.ext.useJack
  }
}

dependencies {
    androidTestCompile 'junit:junit:4.12'
    androidTestCompile 'com.android.support.test:runner:0.3'
    androidTestCompile 'com.android.support.test.espresso:espresso-core:2.2'
    androidTestCompile 'com.android.support.test:rules:0.3'
    androidTestCompile 'com.android.support.test.uiautomator:uiautomator-v18:2.1.1'
    androidTestCompile 'com.android.support.test.espresso:espresso-contrib:2.2'
}
